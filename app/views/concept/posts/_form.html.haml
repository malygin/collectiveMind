%h4=link_to " << #{t('link.back_list')}", "/project/#{@project.id}/concept/posts/"
= form_for  @concept_post, :url => {:project => @project.id, :asp_id => params[:asp_id].present? ? params[:asp_id] : params[:asp], :improve_comment => params[:improve_comment], :improve_stage => params[:improve_stage], :action => @concept_post.persisted? ? 'update' : 'create'},  :remote => true,  :html => { :class => 'new_or_edit' } do |f|
  #mod
  #notice_messages

  .row
    .col-md-12
      %h4.text-left
        %p=t('form.concept.rules')
        %p="1) #{t('form.concept.rule_1')}"
        %p
          ="2) #{t('form.concept.rule_2')}"
          %p="a) #{t('form.concept.rule_3')}"
          %p="b) #{t('form.concept.rule_4')}"
        %p="3) #{t('form.concept.rule_5')}"

  .row
    .col-md-12
      .text-center
        %p.h3.color-orange
          =t('form.concept.title')
        %br
        =text_field_tag "pa[title]",@pa.title, style: 'width: 100%; height: 30px', placeholder: t('form.concept.title_promt')
        %br
  .row
    .col-md-12
      .text-center
        %h3.color-orange
          %b A1:
          =t('form.concept.novation_what')
        %br
    -if @project.status == 7
      = render partial: 'concept/posts/note_list', :locals => {:post_field => @concept_post,:type_fd => 1}
  .row
    .col-md-12
      .form-group.has-danger
        =text_area_tag "pa[name]",@pa.name, :class => "concept_cond form-control", rows: 5, style: 'width: 100%;'

  %br
  %hr
  .row
    .col-md-12
      .text-center
        %h3.color-orange
          %b=t('form.concept.select_discontents')
        %h4.text-left
          %p=t('form.concept.rule_6')
          %p=t('form.concept.rule_7')
        %br
  %h5=t('form.concept.solve_discontents')
  #panel_union
    -if @concept_post.persisted?
      -@concept_post.concept_disposts.each  do |cd|
        =render partial:'discontent/posts/post_short2', object: cd
    -else
      =render partial:'discontent/posts/post_short2', object: @discontent_post unless @discontent_post.nil?
  %br
  .option_for_selectize{project: "#{@project.id}", post: "#{@concept_post.id}"}
  .text-success#add_dispost_success(style='display:none;')
    =t('form.concept.add_success')
  -if params[:improve_comment] and params[:improve_stage]
    %h4.color-red#add_dispost_warning
      =t('form.concept.has_one')
  =select_tag "selectize_concept",
  options_from_collection_for_select(Discontent::Post.where("discontent_posts.id <> ? and project_id = ?", @discontent_post.nil? ? 0 : @discontent_post.id, @project.id).by_status(4), "id", "show_content"),
  class: 'selectized', include_blank: true, placeholder: t('form.concept.select_promt')
  %br
  %hr

  .row
    .col-md-12
      .text-center
        %h3.color-orange
          %b A2:
          =t('form.concept.novation_how')
        %br
    -if @project.status == 7
      = render partial: 'concept/posts/note_list', :locals => {:post_field => @concept_post,:type_fd => 2}
  .row
    .col-md-12
      .form-group.has-danger
        =text_area_tag "pa[content]",@pa.content, :class => "concept_cond form-control", rows: 5, style: 'width: 100%;'


  %a.btn.btn-lg.btn-success.btn-block#btn_improve{type: "button", "data-toggle"=> "collapse", "data-target"=> "#improve_concept"} Улучшить нововведение
  .row#improve_concept.collapse
    %hr
    .row
      .col-md-12
        .text-center
          %h3.color-orange
            %b B1:
            =t('form.concept.cond')
          %br

    .row
      .col-md-12
        .form-group.has-success
          =text_area_tag "pa[positive]",@pa.positive,  :class => "concept_cond form-control", rows: 5, style: 'width: 100%;'
      -if @project.status == 7
        = render partial: 'concept/posts/note_list', :locals => {:post_field => @concept_post,:type_fd => 3}

    .row
      .col-md-12
        .text-center
          %h3.color-orange
            %b B2:
            =t('form.concept.cond_res')
          %br
      -if @project.status == 7
        = render partial: 'concept/posts/note_list', :locals => {:post_field => @concept_post,:type_fd => 4}
    .row
      .col-md-12
        .text-left
          =t('form.concept.resources_rules')
          %br
          %b=t('form.concept.res_buttons')
          .row
            %span.color-orange
              %i.fa.fa-plus
              =t('form.concept.add_res_btn')
            %span=" - #{t('form.concept.add_res_btn_desc')}"
          .row
            %span.color-orange
              %i.fa.fa-edit
              =t('form.concept.add_desc_btn')
            %span=" - #{t('form.concept.add_desc_btn_desc')}"
          .row
            %span.color-green
              %i.fa.fa-plus
              =t('form.concept.add_mean_btn')
            %span=" - #{t('form.concept.add_mean_btn_desc')}"
          .row
            %span.text-danger
              %i.fa.fa-trash-o
              =t('form.concept.del_res_btn')
            %span=" - #{t('form.concept.del_res_btn_desc')}"
          %br
    .row
      .col-md-12
        .form-group.has-success{id: "resources_positive_r", style: "line-height:20px;"}
          - if @concept_post.persisted?
            -@concept_post.concept_post_resources.by_type('positive_r').each_with_index do |r,i|
              %div.main_resources(id="main_positive_r_#{i+1}" position="#{i+1}")
                .col-md-8
                  = autocomplete_field_tag "resor_positive_r[#{i+1}][]",'', autocomplete_concept_post_resource_concept_posts_path, :"min-length" => 0,value: r.name,  class: 'form-control autocomplete',placeholder: t('form.concept.res_promt')
                .col-md-4
                  .pull-right
                    %button.btn.btn-warning{type: "button", title: t('form.concept.add_desc_btn'), onclick:"$(this).parent().parent().parent().find('.desc_resource').show();", id: "desc_to_res"}
                      %i.fa.fa-edit
                      =t('form.concept.add_desc')
                    %button.btn.btn-success{type: "button", title: t('form.concept.add_mean_btn'),onclick:"return add_new_mean_to_resource(this,'positive_s',#{@project.id});", id: "plus_mean"}
                      %i.fa.fa-plus
                      =t('form.concept.add_mean')
                    %button.btn.btn-danger{type: "button",title: t('form.concept.del_res_btn'), onclick: "$(this).parent().parent().parent().remove();", id: "destroy_res"}
                      %i.fa.fa-trash-o
                      =t('form.concept.del_res')
                %br
                %br
                %div.desc_resource(id="desc_positive_r_#{i+1}" position="#{i+1}")
                  = text_area_tag "res_positive_r[#{i+1}][]", r.desc, class: 'form-control', placeholder: t('form.concept.res_desc_promt')
                  %br
                %div.col-md-offset-1.col-md-11.means_to_resource(id="means_positive_s_#{i+1}")
                  -r.concept_post_resources.by_type('positive_s').each_with_index do |res,ind|
                    %div.main_means(id="main_positive_s_#{i+1}" position="#{i+1}")
                      .col-md-8
                        = autocomplete_field_tag "resor_positive_s[#{i+1}][]",'', autocomplete_concept_post_mean_concept_posts_path, :"min-length" => 0, value: res.name, class: 'form-control autocomplete',placeholder: t('form.concept.res_promt')
                      .col-md-4
                        .pull-right
                          %button.btn.btn-warning{type: "button", title: t('form.concept.add_desc_btn'), onclick:"$(this).parent().parent().parent().find('.desc_mean').show();", id: "desc_to_res"}
                            %i.fa.fa-edit
                            =t('form.concept.add_desc')
                          %button.btn.btn-danger{type: "button",title: t('form.concept.del_res_btn'), onclick: "$(this).parent().parent().parent().remove();", id: "destroy_res"}
                            %i.fa.fa-trash-o
                            =t('form.concept.del_res')
                      %br
                      %br
                      %div.desc_mean(id="desc_positive_s_#{i+1}" position="#{i+1}")
                        = text_area_tag "res_positive_s[#{i+1}][]", res.desc, class: 'form-control', placeholder: t('form.concept.res_desc_promt')
                        %br

          -else
            %div.main_resources(id="main_positive_r_1" position="1")
              .col-md-8
                = autocomplete_field_tag "resor_positive_r[1][]",'', autocomplete_concept_post_resource_concept_posts_path, :"min-length" => 0,  class: 'form-control autocomplete',placeholder: t('form.concept.res_promt')
              .col-md-4
                .pull-right
                  %button.btn.btn-warning{type: "button", title: t('form.concept.add_desc_btn'), onclick:"$(this).parent().parent().parent().find('.desc_resource').show();", id: "desc_to_res"}
                    %i.fa.fa-edit
                    =t('form.concept.add_desc')
                  %button.btn.btn-success{type: "button", title: t('form.concept.add_mean_btn'),onclick:"return add_new_mean_to_resource(this,'positive_s',#{@project.id});", id: "plus_mean"}
                    %i.fa.fa-plus
                    =t('form.concept.add_mean')
                  %button.btn.btn-danger{type: "button",title: t('form.concept.del_res_btn'), onclick: "$(this).parent().parent().parent().remove();", id: "destroy_res"}
                    %i.fa.fa-trash-o
                    =t('form.concept.del_res')
              %br
              %br
              %div.desc_resource(id="desc_positive_r_1" position="1" style="display:none;")
                = text_area_tag "res_positive_r[1][]", '', class: 'form-control', placeholder: t('form.concept.res_desc_promt')
                %br
              %div.col-md-offset-1.col-md-11.means_to_resource(id="means_positive_s_1")
                %div.main_means(id="main_positive_s_1" position="1")
                  .col-md-8
                    = autocomplete_field_tag "resor_positive_s[1][]",'', autocomplete_concept_post_mean_concept_posts_path, :"min-length" => 0, class: 'form-control autocomplete', placeholder: t('form.concept.res_promt')
                  .col-md-4
                    .pull-right
                      %button.btn.btn-warning{type: "button", title: t('form.concept.add_desc_btn'), onclick:"$(this).parent().parent().parent().find('.desc_mean').show();", id: "desc_to_res"}
                        %i.fa.fa-edit
                        =t('form.concept.add_desc')
                      %button.btn.btn-danger{type: "button",title: t('form.concept.del_res_btn'), onclick: "$(this).parent().parent().parent().remove();", id: "destroy_res"}
                        %i.fa.fa-trash-o
                        =t('form.concept.del_res')
                  %br
                  %br
                  %div.desc_mean(id="desc_positive_s_1" position="1" style="display:none;")
                    = text_area_tag "res_positive_s[1][]", '', class: 'form-control', placeholder: t('form.concept.res_desc_promt')
                    %br

        %a.btn.btn-warning.pull-left{onclick:"return add_new_resource_to_concept('positive_r','positive_s',#{@project.id});", id:"add_positive_r"}
          %i.fa.fa-plus
          =t('form.concept.add_res_btn')



    %hr
    .row
      .col-md-12
        .text-center
          %h3.color-orange
            %b C1:
            =t('form.concept.negative_h')
          %br
      -if @project.status == 7
        = render partial: 'concept/posts/note_list', :locals => {:post_field => @concept_post,:type_fd => 5}
    .row
      .col-md-12
        .form-group.has-success
          =text_area_tag "pa[negative]",@pa.negative,  :class => "concept_cond form-control", rows: 5,  style: 'width: 100%;'


    .row
      .col-md-12
        .text-center
          %h3.color-orange
            %b C2:
            =t('form.concept.negative_res')
          %br
      -if @project.status == 7
        = render partial: 'concept/posts/note_list', :locals => {:post_field => @concept_post, :type_fd => 6}

    .row
      .col-md-12
        .text-left
          =t('form.concept.resources_rules')
          %br
          %b=t('form.concept.res_buttons')
          .row
            %span.color-orange
              %i.fa.fa-plus
              =t('form.concept.add_res_btn')
            %span=" - #{t('form.concept.add_res_btn_desc')}"
          .row
            %span.color-orange
              %i.fa.fa-edit
              =t('form.concept.add_desc_btn')
            %span=" - #{t('form.concept.add_desc_btn_desc')}"
          .row
            %span.color-green
              %i.fa.fa-plus
              =t('form.concept.add_mean_btn')
            %span=" - #{t('form.concept.add_mean_btn_desc')}"
          .row
            %span.text-danger
              %i.fa.fa-trash-o
              =t('form.concept.del_res_btn')
            %span=" - #{t('form.concept.del_res_btn_desc')}"
          %br


    .row
      .col-md-12
        .form-group.has-success{id: "resources_negative_r", style: "line-height:20px;"}
          - if @concept_post.persisted?
            -@concept_post.concept_post_resources.by_type('negative_r').each_with_index do |r,i|
              %div.main_resources(id="main_negative_r_#{i+1}" position="#{i+1}")
                .col-md-8
                  = autocomplete_field_tag "resor_negative_r[#{i+1}][]",'', autocomplete_concept_post_resource_concept_posts_path, :"min-length" => 0,value: r.name,  class: 'form-control autocomplete',placeholder: t('form.concept.res_promt')
                .col-md-4
                  .pull-right
                    %button.btn.btn-warning{type: "button", title: t('form.concept.add_desc_btn'), onclick:"$(this).parent().parent().parent().find('.desc_resource').show();", id: "desc_to_res"}
                      %i.fa.fa-edit
                      =t('form.concept.add_desc')
                    %button.btn.btn-success{type: "button", title: t('form.concept.add_mean_btn'),onclick:"return add_new_mean_to_resource(this,'negative_s',#{@project.id});", id: "plus_mean"}
                      %i.fa.fa-plus
                      =t('form.concept.add_mean')
                    %button.btn.btn-danger{type: "button",title: t('form.concept.del_res_btn'), onclick: "$(this).parent().parent().parent().remove();", id: "destroy_res"}
                      %i.fa.fa-trash-o
                      =t('form.concept.del_res')
                %br
                %br
                %div.desc_resource(id="desc_negative_r_#{i+1}" position="#{i+1}")
                  = text_area_tag "res_negative_r[#{i+1}][]", r.desc, class: 'form-control', placeholder: t('form.concept.res_desc_promt')
                  %br
                %div.col-md-offset-1.col-md-11.means_to_resource(id="means_negative_s_#{i+1}")
                  -r.concept_post_resources.by_type('negative_s').each_with_index do |res,ind|
                    %div.main_means(id="main_negative_s_#{i+1}" position="#{i+1}")
                      .col-md-8
                        = autocomplete_field_tag "resor_negative_s[#{i+1}][]",'', autocomplete_concept_post_mean_concept_posts_path, :"min-length" => 0, value: res.name, class: 'form-control autocomplete',placeholder: t('form.concept.res_promt')
                      .col-md-4
                        .pull-right
                          %button.btn.btn-warning{type: "button", title: t('form.concept.add_desc_btn'), onclick:"$(this).parent().parent().parent().find('.desc_mean').show();", id: "desc_to_res"}
                            %i.fa.fa-edit
                            =t('form.concept.add_desc')
                          %button.btn.btn-danger{type: "button",title: t('form.concept.del_res_btn'), onclick: "$(this).parent().parent().parent().remove();", id: "destroy_res"}
                            %i.fa.fa-trash-o
                            =t('form.concept.del_res')
                      %br
                      %br
                      %div.desc_mean(id="desc_negative_s_#{i+1}" position="#{i+1}")
                        = text_area_tag "res_negative_s[#{i+1}][]", res.desc, class: 'form-control', placeholder: t('form.concept.res_desc_promt')
                        %br

          -else
            %div.main_resources(id="main_negative_r_1" position="1")
              .col-md-8
                = autocomplete_field_tag "resor_negative_r[1][]",'', autocomplete_concept_post_resource_concept_posts_path, :"min-length" => 0,  class: 'form-control autocomplete',placeholder: t('form.concept.res_promt')
              .col-md-4
                .pull-right
                  %button.btn.btn-warning{type: "button", title: t('form.concept.add_desc_btn'), onclick:"$(this).parent().parent().parent().find('.desc_resource').show();", id: "desc_to_res"}
                    %i.fa.fa-edit
                    =t('form.concept.add_desc')
                  %button.btn.btn-success{type: "button", title: t('form.concept.add_mean_btn'),onclick:"return add_new_mean_to_resource(this,'negative_s',#{@project.id});", id: "plus_mean"}
                    %i.fa.fa-plus
                    =t('form.concept.add_mean')
                  %button.btn.btn-danger{type: "button",title: t('form.concept.del_res_btn'), onclick: "$(this).parent().parent().parent().remove();", id: "destroy_res"}
                    %i.fa.fa-trash-o
                    =t('form.concept.del_res')
              %br
              %br
              %div.desc_resource(id="desc_negative_r_1" position="1" style="display:none;")
                = text_area_tag "res_negative_r[1][]", '', class: 'form-control', placeholder: t('form.concept.res_desc_promt')
                %br
              %div.col-md-offset-1.col-md-11.means_to_resource(id="means_negative_s_1")
                %div.main_means(id="main_negative_s_1" position="1")
                  .col-md-8
                    = autocomplete_field_tag "resor_negative_s[1][]",'', autocomplete_concept_post_mean_concept_posts_path, :"min-length" => 0, class: 'form-control autocomplete', placeholder: t('form.concept.res_promt')
                  .col-md-4
                    .pull-right
                      %button.btn.btn-warning{type: "button", title: t('form.concept.add_desc_btn'), onclick:"$(this).parent().parent().parent().find('.desc_mean').show();", id: "desc_to_res"}
                        %i.fa.fa-edit
                        =t('form.concept.add_desc')
                      %button.btn.btn-danger{type: "button",title: t('form.concept.del_res_btn'), onclick: "$(this).parent().parent().parent().remove();", id: "destroy_res"}
                        %i.fa.fa-trash-o
                        =t('form.concept.del_res')
                  %br
                  %br
                  %div.desc_mean(id="desc_negative_s_1" position="1" style="display:none;")
                    = text_area_tag "res_negative_s[1][]", '', class: 'form-control', placeholder: t('form.concept.res_desc_promt')
                    %br

        %a.btn.btn-warning.pull-left{onclick:"return add_new_resource_to_concept('negative_r','negative_s',#{@project.id});", id:"add_negative_r"}
          %i.fa.fa-plus
          =t('form.concept.add_res_btn')

    %hr

    .row
      .col-md-12
        .text-center
          %h3.color-orange
            %b D1:
            =t('form.concept.control')
          %br
      -if @project.status == 7
        = render partial: 'concept/posts/note_list', :locals => {:post_field => @concept_post,:type_fd => 7}

    .row
      .col-md-12
        .form-group.has-success
          =text_area_tag "pa[control]",@pa.control, :class => "concept_cond form-control", rows: 5,  style: 'width: 100%;'


    .row
      .col-md-12
        .text-center
          %h3.color-orange
            %b D2:
            =t('form.concept.control_res')
          %br
      -if @project.status == 7
        = render partial: 'concept/posts/note_list', :locals => {:post_field => @concept_post,:type_fd => 8}
    .row
      .col-md-12
        .text-left
          =t('form.concept.resources_rules')
          %br
          %b=t('form.concept.res_buttons')
          .row
            %span.color-orange
              %i.fa.fa-plus
              =t('form.concept.add_res_btn')
            %span=" - #{t('form.concept.add_res_btn_desc')}"
          .row
            %span.color-orange
              %i.fa.fa-edit
              =t('form.concept.add_desc_btn')
            %span=" - #{t('form.concept.add_desc_btn_desc')}"
          .row
            %span.color-green
              %i.fa.fa-plus
              =t('form.concept.add_mean_btn')
            %span=" - #{t('form.concept.add_mean_btn_desc')}"
          .row
            %span.text-danger
              %i.fa.fa-trash-o
              =t('form.concept.del_res_btn')
            %span=" - #{t('form.concept.del_res_btn_desc')}"
          %br

    .row
      .col-md-12
        .form-group.has-success{id: "resources_control_r", style: "line-height:20px;"}
          - if @concept_post.persisted?
            -@concept_post.concept_post_resources.by_type('control_r').each_with_index do |r,i|
              %div.main_resources(id="main_control_r_#{i+1}" position="#{i+1}")
                .col-md-8
                  = autocomplete_field_tag "resor_control_r[#{i+1}][]",'', autocomplete_concept_post_resource_concept_posts_path, :"min-length" => 0,value: r.name,  class: 'form-control autocomplete',placeholder: t('form.concept.res_promt')
                .col-md-4
                  .pull-right
                    %button.btn.btn-warning{type: "button", title: t('form.concept.add_desc_btn'), onclick:"$(this).parent().parent().parent().find('.desc_resource').show();", id: "desc_to_res"}
                      %i.fa.fa-edit
                      =t('form.concept.add_desc')
                    %button.btn.btn-success{type: "button", title: t('form.concept.add_mean_btn'),onclick:"return add_new_mean_to_resource(this,'control_s',#{@project.id});", id: "plus_mean"}
                      %i.fa.fa-plus
                      =t('form.concept.add_mean')
                    %button.btn.btn-danger{type: "button",title: t('form.concept.del_res_btn'), onclick: "$(this).parent().parent().parent().remove();", id: "destroy_res"}
                      %i.fa.fa-trash-o
                      =t('form.concept.del_res')
                %br
                %br
                %div.desc_resource(id="desc_control_r_#{i+1}" position="#{i+1}")
                  = text_area_tag "res_control_r[#{i+1}][]", r.desc, class: 'form-control', placeholder: t('form.concept.res_desc_promt')
                  %br
                %div.col-md-offset-1.col-md-11.means_to_resource(id="means_control_s_#{i+1}")
                  -r.concept_post_resources.by_type('control_s').each_with_index do |res,ind|
                    %div.main_means(id="main_control_s_#{i+1}" position="#{i+1}")
                      .col-md-8
                        = autocomplete_field_tag "resor_control_s[#{i+1}][]",'', autocomplete_concept_post_mean_concept_posts_path, :"min-length" => 0, value: res.name, class: 'form-control autocomplete',placeholder: t('form.concept.res_promt')
                      .col-md-4
                        .pull-right
                          %button.btn.btn-warning{type: "button", title: t('form.concept.add_desc_btn'), onclick:"$(this).parent().parent().parent().find('.desc_mean').show();", id: "desc_to_res"}
                            %i.fa.fa-edit
                            =t('form.concept.add_desc')
                          %button.btn.btn-danger{type: "button",title: t('form.concept.del_res_btn'), onclick: "$(this).parent().parent().parent().remove();", id: "destroy_res"}
                            %i.fa.fa-trash-o
                            =t('form.concept.del_res')
                      %br
                      %br
                      %div.desc_mean(id="desc_control_s_#{i+1}" position="#{i+1}")
                        = text_area_tag "res_control_s[#{i+1}][]", res.desc, class: 'form-control', placeholder: t('form.concept.res_desc_promt')
                        %br

          -else
            %div.main_resources(id="main_control_r_1" position="1")
              .col-md-8
                = autocomplete_field_tag "resor_control_r[1][]",'', autocomplete_concept_post_resource_concept_posts_path, :"min-length" => 0,  class: 'form-control autocomplete',placeholder: t('form.concept.res_promt')
              .col-md-4
                .pull-right
                  %button.btn.btn-warning{type: "button", title: t('form.concept.add_desc_btn'), onclick:"$(this).parent().parent().parent().find('.desc_resource').show();", id: "desc_to_res"}
                    %i.fa.fa-edit
                    =t('form.concept.add_desc')
                  %button.btn.btn-success{type: "button", title: t('form.concept.add_mean_btn'),onclick:"return add_new_mean_to_resource(this,'control_s',#{@project.id});", id: "plus_mean"}
                    %i.fa.fa-plus
                    =t('form.concept.add_mean')
                  %button.btn.btn-danger{type: "button",title: t('form.concept.del_res_btn'), onclick: "$(this).parent().parent().parent().remove();", id: "destroy_res"}
                    %i.fa.fa-trash-o
                    =t('form.concept.del_res')
              %br
              %br
              %div.desc_resource(id="desc_control_r_1" position="1" style="display:none;")
                = text_area_tag "res_control_r[1][]", '', class: 'form-control', placeholder: t('form.concept.res_desc_promt')
                %br
              %div.col-md-offset-1.col-md-11.means_to_resource(id="means_control_s_1")
                %div.main_means(id="main_control_s_1" position="1")
                  .col-md-8
                    = autocomplete_field_tag "resor_control_s[1][]",'', autocomplete_concept_post_mean_concept_posts_path, :"min-length" => 0, class: 'form-control autocomplete', placeholder: t('form.concept.res_promt')
                  .col-md-4
                    .pull-right
                      %button.btn.btn-warning{type: "button", title: t('form.concept.add_desc_btn'), onclick:"$(this).parent().parent().parent().find('.desc_mean').show();", id: "desc_to_res"}
                        %i.fa.fa-edit
                        =t('form.concept.add_desc')
                      %button.btn.btn-danger{type: "button",title: t('form.concept.del_res_btn'), onclick: "$(this).parent().parent().parent().remove();", id: "destroy_res"}
                        %i.fa.fa-trash-o
                        =t('form.concept.del_res')
                  %br
                  %br
                  %div.desc_mean(id="desc_control_s_1" position="1" style="display:none;")
                    = text_area_tag "res_control_s[1][]", '', class: 'form-control', placeholder: t('form.concept.res_desc_promt')
                    %br

        %a.btn.btn-warning.pull-left{onclick:"return add_new_resource_to_concept('control_r','control_s',#{@project.id});", id:"add_control_r"}
          %i.fa.fa-plus
          =t('form.concept.add_res_btn')





    %hr
    .row
      .col-md-12
        .text-center
          %h3.color-orange
            %b E1:
            =t('form.concept.obstacles_bcd')
          %br
      -if @project.status == 7
        = render partial: 'concept/posts/note_list', :locals => {:post_field => @concept_post,:type_fd => 9}
    .row
      .col-md-12
        .form-group.has-success
          =text_area_tag "pa[obstacles]",@pa.obstacles, :class => "concept_cond form-control", rows: 5,  style: 'width: 100%;'


    %hr
    .row
      .col-md-12
        .text-center
          %h3.color-orange
            %b F1:
            =t('form.concept.problems')
          %br
      -if @project.status == 7
        = render partial: 'concept/posts/note_list', :locals => {:post_field => @concept_post,:type_fd => 10}
    .row
      .col-md-12
        .form-group.has-success
          =text_area_tag "pa[problems]",@pa.problems, :class => "concept_cond form-control", rows: 5,  style: 'width: 100%;'

    .row
      .col-md-12
        .text-center
          %h3.color-orange
            %b F2:
            =t('form.concept.reality')
          %br
      -if @project.status == 7
        = render partial: 'concept/posts/note_list', :locals => {:post_field => @concept_post,:type_fd => 11}
    .row
      .col-md-12
        .form-group.has-success
          =text_area_tag "pa[reality]",@pa.reality, :class => "concept_cond form-control", rows: 5,  style: 'width: 100%;'

  %br
  %br
  %actions.pull-right
    = f.submit t('form.save'),  class: 'btn btn-warning btn-lg', id: 'send_post_concept', "data-loading-text" => t('form.save_load'), onclick: "$(this).button('loading');"
  %br
  %br

#render_success_concept
