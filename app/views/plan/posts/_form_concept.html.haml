= form_for @post_concept, url: {project: @project.id, id: @post.id, con_id: @post_concept.id, action: 'update_get_concept'}, remote: true, method: :put do |f|
  #mod
  .color-green#concept_update_success(style='display:none;')
    =t('form.plan.concept.update_success')
  .pull-right(style='display:none;')
    =f.submit 'Сохранить', id: "send_post_concept", class: 'btn btn-success'
  .row
    .col-md-12
      .text-center
        %p.h4.color-orange
          =t('form.concept.title')
        %br
      .form-group.has-danger
        =f.text_field :title, style: 'width: 100%; height: 30px', placeholder: t('form.concept.title_promt')
      %br
  .row
    .col-md-12
      .text-center
        %h4.color-orange
          %b A1.
          =t('form.concept.novation_what')
          .label.label-success.example-concept{"data-toggle"=> "collapse", "data-target"=> "#novation_what"}=t('form.example')
        %br

  .row#novation_what.collapse
    .col-md-12
      .text-right
        %i
          %h6 Предположим, вы оказались в будущем. Что там есть такого, что исправляет несовершенство?
          %h6.color-green Пример:
          %h6.text-muted Решаемое несовершенство:
          %span.label.label-default что
          %span.text-muted Пыльный и отвратительный на вид большой пустырь
          %br
          %span.label.label-default где
          %span.text-muted во дворе между домами
          %br
          %span.label.label-default когда
          %span.text-muted в теплое время года
          %br
          %h6.color-green Предлагаемое нововведение:
          %p Большой зеленый газон по всему пустырю  с клумбой с посредине. Клумба засеяна красными многолетными цветами.
  .row
    .col-md-12
      .form-group.has-danger
        =f.text_area :name, class: "concept_cond form-control", rows: 12, style: 'width: 100%;'
  .row
    .col-md-12
      .text-center
        %h4.color-orange
          %b A2.
          =t('form.concept.novation_how')
          .label.label-success.example-concept{"data-toggle"=> "collapse", "data-target"=> "#novation_how"}=t('form.example')
        %br
  .row#novation_how.collapse
    .col-md-12
      .text-right
        %i
          %h6.color-green Пример:

          %p Трава газона и декоративные растения на клумбе будут привлекательны на вид и предотвращать появление пыли.
  .row
    .col-md-12
      .form-group.has-danger
        =f.text_area :content,  class: "concept_cond form-control", rows: 12, style: 'width: 100%;'
  .row
    .col-md-12
      .text-center
        %h4.color-orange
          %b B1.
          =t('form.concept.cond')
          .label.label-success.example-concept{"data-toggle"=> "collapse", "data-target"=> "#cond"}=t('form.example')
        %br

  .row#cond.collapse
    .col-md-12
      .text-right
        %i
          %h6.color-green Пример:
          %p
            %b Для поддержания внешнего вида газона и травы необходимо обеспечить:

            регулярный полив;  нужно засевать газон травой, а на клумбу высаживать растения; почву периодически вскапывать, удобрять и пропалывать; необходимо весной собирать деньги у жильцов.
  .row
    .col-md-12
      .form-group.has-success
        =f.text_area :positive, class: "concept_cond form-control", rows: 12, style: 'width: 100%;'
  .row
    .col-md-12
      .text-center
        %h4.color-orange
          %b B2.
          =t('form.concept.cond_res')
          .label.label-success.example-concept{"data-toggle"=> "collapse", "data-target"=> "#cond_res"}=t('form.example')
        %br

  .row#cond_res.collapse
    .col-md-12
      .text-right
        %i
          %h6
            Ресурсами могут быть методы, технические, организационные или финансовые средства, человеческие силы и вообще все,
            что необходимо иметь в распоряжении в будущем, чтобы обеспечить функционирование нововведения
            %br
            %br
            %b Четкое представление о том, какие ресурсы понадобятся для функционирования нововведения позволят выработать более эффективный проект.
          %br

          %h6.color-green Пример:

          %p
            работник (для ухода за растениями),
            %br
            инструменты (обработки почвы и растений),
            %br
            помещение (для хранения технических средств)...
  .row
    .col-md-12
      .form-group.has-success{id: "resources_positive_r"}
        - unless form_concept.plan_post_resources.by_type('positive_r').empty?
          -form_concept.plan_post_resources.by_type('positive_r').each do |r|
            .panel.panel-default
              .panel-body
                %span.glyphicon.glyphicon-remove.text-danger.pull-right{onclick: "$(this).parent().parent().remove();", style: "cursor:pointer;text-decoration:none;font-size:15px;"}
                =autocomplete_field_tag "resor_positive_r[]",'', autocomplete_concept_post_resource_concept_posts_path,append_to: "#mod", :"min-length"=> 0, value: r.name,  class: 'form-control autocomplete',placeholder: 'Введите свой ресурс или выберите из списка'
                %br
                = text_area_tag "res_positive_r[]", r.desc, class: 'form-control', placeholder: 'Пояснение к ресурсу'
        - else
          .panel.panel-default
            .panel-body
              %span.glyphicon.glyphicon-remove.text-danger.pull-right{onclick: "$(this).parent().parent().remove();", style: "cursor:pointer;text-decoration:none;font-size:15px;"}
              =autocomplete_field_tag "resor_positive_r[]",'', autocomplete_concept_post_resource_concept_posts_path,append_to: "#mod", :"min-length"=> 0,  class: 'form-control autocomplete',placeholder: 'Введите свой ресурс или выберите из списка'
              %br
              = text_area_tag "res_positive_r[]", '', class: 'form-control', placeholder: 'Пояснение к ресурсу'
          .panel.panel-default
            .panel-body
              %span.glyphicon.glyphicon-remove.text-danger.pull-right{onclick: "$(this).parent().parent().remove();", style: "cursor:pointer;text-decoration:none;font-size:15px;"}
              =autocomplete_field_tag "resor_positive_r[]",'', autocomplete_concept_post_resource_concept_posts_path,append_to: "#mod", :"min-length"=> 0,  class: 'form-control autocomplete',placeholder: 'Введите свой ресурс или выберите из списка'
              %br
              = text_area_tag "res_positive_r[]", '', class: 'form-control', placeholder: 'Пояснение к ресурсу'
      %a.btn.btn-success.pull-right{onclick:"return add_new_resource_to_plan('positive_r',#{@project.id});"} Добавить ресурс

  .row
    .col-md-12
      .text-center
        %h4.color-orange
          %b B3.
          =t('form.concept.cond_s')
          .label.label-success.example-concept{"data-toggle"=> "collapse", "data-target"=> "#cond_s"}=t('form.example')
        %br

  .row#cond_s.collapse
    .col-md-12
      .text-right
        %i
          %h6.color-green Пример:
          %p
            %b Средства:

            Объявление для найма работника; деньги, собранные с жильцов для оплаты работника, покупки инструментов и аренды помощения
  .row
    .col-md-12
      .form-group.has-success{id: "resources_positive_s"}
        - unless form_concept.plan_post_means.by_type('positive_s').empty?
          -form_concept.plan_post_means.by_type('positive_s').each do |r|
            .panel.panel-default
              .panel-body
                %span.glyphicon.glyphicon-remove.text-danger.pull-right{onclick: "$(this).parent().parent().remove();", style: "cursor:pointer;text-decoration:none;font-size:15px;"}
                =autocomplete_field_tag "resor_positive_s[]",'', autocomplete_concept_post_resource_concept_posts_path,append_to: "#mod", :"min-length"=> 0, value: r.name,  class: 'form-control autocomplete',placeholder: 'Введите свой ресурс или выберите из списка'
                %br
                = text_area_tag "res_positive_s[]", r.desc, class: 'form-control', placeholder: 'Пояснение к ресурсу'
        - else
          .panel.panel-default
            .panel-body
              %span.glyphicon.glyphicon-remove.text-danger.pull-right{onclick: "$(this).parent().parent().remove();", style: "cursor:pointer;text-decoration:none;font-size:15px;"}
              =autocomplete_field_tag "resor_positive_s[]",'', autocomplete_concept_post_resource_concept_posts_path,append_to: "#mod", :"min-length"=> 0,  class: 'form-control autocomplete',placeholder: 'Введите свой ресурс или выберите из списка'
              %br
              = text_area_tag "res_positive_s[]", '', class: 'form-control', placeholder: 'Пояснение к ресурсу'
          .panel.panel-default
            .panel-body
              %span.glyphicon.glyphicon-remove.text-danger.pull-right{onclick: "$(this).parent().parent().remove();", style: "cursor:pointer;text-decoration:none;font-size:15px;"}
              =autocomplete_field_tag "resor_positive_s[]",'', autocomplete_concept_post_resource_concept_posts_path,append_to: "#mod", :"min-length"=> 0,  class: 'form-control autocomplete',placeholder: 'Введите свой ресурс или выберите из списка'
              %br
              = text_area_tag "res_positive_s[]", '', class: 'form-control', placeholder: 'Пояснение к ресурсу'
      %a.btn.btn-success.pull-right{onclick:"return add_new_resource_to_plan('positive_s',#{@project.id});"} Добавить ресурс

  #render_get_concept_actions
  .row
    .col-md-12
      .text-center
        %h4.color-orange
          %b C1.
          =t('form.concept.negative_h')
          .label.label-success.example-concept{"data-toggle"=> "collapse", "data-target"=> "#negative_h"}=t('form.example')
        %br

  .row#negative_h.collapse
    .col-md-12
      .text-right
        %i
          %h6 Напишите, какие неприятности могут возникнуть, если будут созданы и поддерживаться должные УСЛОВИЯ и разрешаться ЗАДАЧИ.
          %br
          %h6.color-green Пример:

          %p
            Конфликты из-за того, что некоторые жильцы могут отказаться делать денежные взносы.
  .row
    .col-md-12
      .form-group.has-success
        =f.text_area :negative,  class: "concept_cond form-control", rows: 14,  style: 'width: 100%;'

  .row
    .col-md-12
      .text-center
        %h4.color-orange
          %b C2.
          =t('form.concept.negative_res')
          .label.label-success.example-concept{"data-toggle"=> "collapse", "data-target"=> "#negative_res"}=t('form.example')
        %br

  .row#negative_res.collapse
    .col-md-12
      .text-right
        %i
          %h6 Что должно иметься в будущем, препятствующее возможному возникновению неприятностей?
          %br
          %h6.color-green Пример:

          %p
            Средства широкого публичного оповещения о должниках
  -if form_concept.negative_r.present? and form_concept.plan_post_resources.by_type('negative_r').empty?
    .row
      .col-md-12
        %h4.color-red
          Переведите, пожалуйста, данное поле в новый формат ресурсов, для дальнейшей работы с ним!
        .form-group.has-success= display_content(form_concept.negative_r)

  .row
    .col-md-12
      .form-group.has-success{id: "resources_negative_r"}
        - unless form_concept.plan_post_resources.by_type('negative_r').empty?
          -form_concept.plan_post_resources.by_type('negative_r').each do |r|
            .panel.panel-default
              .panel-body
                %span.glyphicon.glyphicon-remove.text-danger.pull-right{onclick: "$(this).parent().parent().remove();", style: "cursor:pointer;text-decoration:none;font-size:15px;"}
                =autocomplete_field_tag "resor_negative_r[]",'', autocomplete_concept_post_resource_concept_posts_path,append_to: "#mod", :"min-length"=> 0, value: r.name,  class: 'form-control autocomplete',placeholder: 'Введите свой ресурс или выберите из списка'
                %br
                = text_area_tag "res_negative_r[]", r.desc, class: 'form-control', placeholder: 'Пояснение к ресурсу'
        - else
          .panel.panel-default
            .panel-body
              %span.glyphicon.glyphicon-remove.text-danger.pull-right{onclick: "$(this).parent().parent().remove();", style: "cursor:pointer;text-decoration:none;font-size:15px;"}
              =autocomplete_field_tag "resor_negative_r[]",'', autocomplete_concept_post_resource_concept_posts_path,append_to: "#mod", :"min-length"=> 0,  class: 'form-control autocomplete',placeholder: 'Введите свой ресурс или выберите из списка'
              %br
              = text_area_tag "res_negative_r[]", '', class: 'form-control', placeholder: 'Пояснение к ресурсу'
          .panel.panel-default
            .panel-body
              %span.glyphicon.glyphicon-remove.text-danger.pull-right{onclick: "$(this).parent().parent().remove();", style: "cursor:pointer;text-decoration:none;font-size:15px;"}
              =autocomplete_field_tag "resor_negative_r[]",'', autocomplete_concept_post_resource_concept_posts_path,append_to: "#mod", :"min-length"=> 0,  class: 'form-control autocomplete',placeholder: 'Введите свой ресурс или выберите из списка'
              %br
              = text_area_tag "res_negative_r[]", '', class: 'form-control', placeholder: 'Пояснение к ресурсу'
      %a.btn.btn-success.pull-right{onclick:"return add_new_resource_to_plan('negative_r','#{@project.id}');"} Добавить ресурс

  .row
    .col-md-12
      .text-center
        %h4.color-orange
          %b C3.
          =t('form.concept.negative_s')
          .label.label-success.example-concept{"data-toggle"=> "collapse", "data-target"=> "#negative_s"}=t('form.example')
        %br

  .row#negative_s.collapse
    .col-md-12
      .text-right
        %i
          %h6 Какие средства необходимы для создания ресурсов?
          %br
          %h6.color-green Пример:

          %p
            %b Средства создания:

            деньги на покупку доски объявлений, создание и ведение сайта в Интернет
  .row
    .col-md-12
      .form-group.has-success{id: "resources_negative_s"}
        - unless form_concept.plan_post_means.by_type('negative_s').empty?
          -form_concept.plan_post_means.by_type('negative_s').each do |r|
            .panel.panel-default
              .panel-body
                %span.glyphicon.glyphicon-remove.text-danger.pull-right{onclick: "$(this).parent().parent().remove();", style: "cursor:pointer;text-decoration:none;font-size:15px;"}
                =autocomplete_field_tag "resor_negative_s[]",'', autocomplete_concept_post_resource_concept_posts_path,append_to: "#mod", :"min-length"=> 0, value: r.name,  class: 'form-control autocomplete',placeholder: 'Введите свой ресурс или выберите из списка'
                %br
                = text_area_tag "res_negative_s[]", r.desc, class: 'form-control', placeholder: 'Пояснение к ресурсу'
        - else
          .panel.panel-default
            .panel-body
              %span.glyphicon.glyphicon-remove.text-danger.pull-right{onclick: "$(this).parent().parent().remove();", style: "cursor:pointer;text-decoration:none;font-size:15px;"}
              =autocomplete_field_tag "resor_negative_s[]",'', autocomplete_concept_post_resource_concept_posts_path,append_to: "#mod", :"min-length"=> 0,  class: 'form-control autocomplete',placeholder: 'Введите свой ресурс или выберите из списка'
              %br
              = text_area_tag "res_negative_s[]", '', class: 'form-control', placeholder: 'Пояснение к ресурсу'
          .panel.panel-default
            .panel-body
              %span.glyphicon.glyphicon-remove.text-danger.pull-right{onclick: "$(this).parent().parent().remove();", style: "cursor:pointer;text-decoration:none;font-size:15px;"}
              =autocomplete_field_tag "resor_negative_s[]",'', autocomplete_concept_post_resource_concept_posts_path,append_to: "#mod", :"min-length"=> 0,  class: 'form-control autocomplete',placeholder: 'Введите свой ресурс или выберите из списка'
              %br
              = text_area_tag "res_negative_s[]", '', class: 'form-control', placeholder: 'Пояснение к ресурсу'
      %a.btn.btn-success.pull-right{onclick:"return add_new_resource_to_plan('negative_s',#{@project.id});"} Добавить ресурс

  .row
    .col-md-12
      .text-center
        %h4.color-orange
          %b D1.
          =t('form.concept.control')
          .label.label-success.example-concept{"data-toggle"=> "collapse", "data-target"=> "#control"}=t('form.example')
        %br

  .row#control.collapse
    .col-md-12
      .text-right
        %i
          %h6 Напишите, кто и как будет контролировать создание и поддержание должных УСЛОВИЙ.
          %br
          %h6.color-green Пример:

          %p
            %b Контроль:

            будет осуществляться органом самоуправления жильцов посредством регулярных инспекций
  .row
    .col-md-12
      .form-group.has-success
        =f.text_area :control, class: "concept_cond form-control", rows: 14,  style: 'width: 100%;'

  .row
    .col-md-12
      .text-center
        %h4.color-orange
          %b D2.
          =t('form.concept.control_res')
          .label.label-success.example-concept{"data-toggle"=> "collapse", "data-target"=> "#control_res"}=t('form.example')
        %br

  .row#control_res.collapse
    .col-md-12
      .text-right
        %i
          %h6 Какие ресурсы требуются для этого контроля?
          %br
          %h6.color-green Пример:

          %p
            %b Ресурсы для осуществления контроля:

            Ответсвенный за содержание территории.
  .row
    .col-md-12
      .form-group.has-success{id: "resources_control_r"}
        - unless form_concept.plan_post_resources.by_type('control_r').empty?
          -form_concept.plan_post_resources.by_type('control_r').each do |r|
            .panel.panel-default
              .panel-body
                %span.glyphicon.glyphicon-remove.text-danger.pull-right{onclick: "$(this).parent().parent().remove();", style: "cursor:pointer;text-decoration:none;font-size:15px;"}
                =autocomplete_field_tag "resor_control_r[]",'', autocomplete_concept_post_resource_concept_posts_path,append_to: "#mod", :"min-length"=> 0, value: r.name,  class: 'form-control autocomplete',placeholder: 'Введите свой ресурс или выберите из списка'
                %br
                = text_area_tag "res_control_r[]", r.desc, class: 'form-control', placeholder: 'Пояснение к ресурсу'
        - else
          .panel.panel-default
            .panel-body
              %span.glyphicon.glyphicon-remove.text-danger.pull-right{onclick: "$(this).parent().parent().remove();", style: "cursor:pointer;text-decoration:none;font-size:15px;"}
              =autocomplete_field_tag "resor_control_r[]",'', autocomplete_concept_post_resource_concept_posts_path,append_to: "#mod", :"min-length"=> 0,  class: 'form-control autocomplete',placeholder: 'Введите свой ресурс или выберите из списка'
              %br
              = text_area_tag "res_control_r[]", '', class: 'form-control', placeholder: 'Пояснение к ресурсу'
          .panel.panel-default
            .panel-body
              %span.glyphicon.glyphicon-remove.text-danger.pull-right{onclick: "$(this).parent().parent().remove();", style: "cursor:pointer;text-decoration:none;font-size:15px;"}
              =autocomplete_field_tag "resor_control_r[]",'', autocomplete_concept_post_resource_concept_posts_path,append_to: "#mod", :"min-length"=> 0,  class: 'form-control autocomplete',placeholder: 'Введите свой ресурс или выберите из списка'
              %br
              = text_area_tag "res_control_r[]", '', class: 'form-control', placeholder: 'Пояснение к ресурсу'
      %a.btn.btn-success.pull-right{onclick:"return add_new_resource_to_plan('control_r',#{@project.id});"} Добавить ресурс

  .row
    .col-md-12
      .text-center
        %h4.color-orange
          %b D3.
          =t('form.concept.control_s')
          .label.label-success.example-concept{"data-toggle"=> "collapse", "data-target"=> "#control_s"}=t('form.example')
        %br

  .row#control_s.collapse
    .col-md-12
      .text-right
        %i
          %h6 Какие средства необходимы для создания ресурсов?
          %br
          %h6.color-green Пример:

          %p
            %b Средства:

            Оплата инспекций
  .row
    .col-md-12
      .form-group.has-success{id: "resources_control_s"}
        - unless form_concept.plan_post_means.by_type('control_s').empty?
          -form_concept.plan_post_means.by_type('control_s').each do |r|
            .panel.panel-default
              .panel-body
                %span.glyphicon.glyphicon-remove.text-danger.pull-right{onclick: "$(this).parent().parent().remove();", style: "cursor:pointer;text-decoration:none;font-size:15px;"}
                =autocomplete_field_tag "resor_control_s[]",'', autocomplete_concept_post_resource_concept_posts_path,append_to: "#mod", :"min-length"=> 0, value: r.name,  class: 'form-control autocomplete',placeholder: 'Введите свой ресурс или выберите из списка'
                %br
                = text_area_tag "res_control_s[]", r.desc, class: 'form-control', placeholder: 'Пояснение к ресурсу'
        - else
          .panel.panel-default
            .panel-body
              %span.glyphicon.glyphicon-remove.text-danger.pull-right{onclick: "$(this).parent().parent().remove();", style: "cursor:pointer;text-decoration:none;font-size:15px;"}
              =autocomplete_field_tag "resor_control_s[]",'', autocomplete_concept_post_resource_concept_posts_path,append_to: "#mod", :"min-length"=> 0,  class: 'form-control autocomplete',placeholder: 'Введите свой ресурс или выберите из списка'
              %br
              = text_area_tag "res_control_s[]", '', class: 'form-control', placeholder: 'Пояснение к ресурсу'
          .panel.panel-default
            .panel-body
              %span.glyphicon.glyphicon-remove.text-danger.pull-right{onclick: "$(this).parent().parent().remove();", style: "cursor:pointer;text-decoration:none;font-size:15px;"}
              =autocomplete_field_tag "resor_control_s[]",'', autocomplete_concept_post_resource_concept_posts_path,append_to: "#mod", :"min-length"=> 0,  class: 'form-control autocomplete',placeholder: 'Введите свой ресурс или выберите из списка'
              %br
              = text_area_tag "res_control_s[]", '', class: 'form-control', placeholder: 'Пояснение к ресурсу'
      %a.btn.btn-success.pull-right{onclick:"return add_new_resource_to_plan('control_s',#{@project.id});"} Добавить ресурс

  %hr
  .row
    .col-md-12
      .text-center
        %h4.color-orange
          %b E1.
          =t('form.concept.obstacles_bcd')
          .label.label-success.example-concept{"data-toggle"=> "collapse", "data-target"=> "#obstacles_bcd"}=t('form.example')
        %br

  .row#obstacles_bcd.collapse
    .col-md-12
      .text-right
        %i
          %h6  Что, вероятно, может помешать в будущем плодотворному функционированию всех перечисленных ресурсов и как с этим предлагается бороться?
          %br
          %h6.color-green Пример:
          %p
            %b Вероятные помехи:
            Работник окажется запойным (по всему микрорайону развесить агитационные плакаты "Пьянству - БОЙ!") ...
  .row
    .col-md-12
      .form-group.has-success
        =f.text_area :obstacles, class: "concept_cond form-control", rows: 12,  style: 'width: 100%;'

  %hr
  .row
    .col-md-12
      .text-center
        %h4.color-orange
          %b F1.
          =t('form.concept.problems')
          .label.label-success.example-concept{"data-toggle"=> "collapse", "data-target"=> "#problems"}=t('form.example')
        %br

  .row#problems.collapse
    .col-md-12
      .text-right
        %i
          %h6 Обоснуйте, что "игра стоит свеч".
          %br
          %h6.color-green Пример:
          %p К сожалению, уход за клумбой потребует значительного труда, однако  ввиду ее красоты предлагается на это пойти.
  .row
    .col-md-12
      .form-group.has-success
        =f.text_area :problems, class: "concept_cond form-control", rows: 12,  style: 'width: 100%;'

  .row
    .col-md-12
      .text-center
        %h4.color-orange
          %b F2.
          =t('form.concept.reality')
          .label.label-success.example-concept{"data-toggle"=> "collapse", "data-target"=> "#reality"}=t('form.example')
        %br

  .row#reality.collapse
    .col-md-12
      .text-right
        %i
          %h6 Покажите, что нужные для нововведения ресурсы несложно и недорого создать
          %br
          %h6.color-green Пример:

          %p Работника нанять недорого; инструменты и материалы приобрести и организовать полив вполне возможно; жильцы, вероятно, согласятся дать на это деньги.
  .row
    .col-md-12
      .form-group.has-success
        =f.text_area :reality, class: "concept_cond form-control", rows: 12,  style: 'width: 100%;'

  .pull-right
    =f.submit t('form.save'), id: "send_post_concept_bottom", class: 'btn btn-success'
